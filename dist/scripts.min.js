let pokemonRepository = function () { let t = [], e = "https://pokeapi.co/api/v2/pokemon/?limit=150"; function n(e) { if (!Object.keys(e).includes("name")) return alert("Input invalid."); t.push(e) } function i(t) { (function (t) { let e = t.detailsUrl; return fetch(e).then(function (t) { return t.json() }).then(function (e) { t.imageUrl = e.sprites.front_default, t.height = e.height, t.weight = e.weight, t.types = e.types }).catch(function (t) { console.error(t) }) })(t).then(function () { !function (t) { let e = $(".modal-body"), n = $(".modal-title"); n.empty(), e.empty(); let i = document.createElement("h1"); i.innerText = t.name; let o = document.createElement("p"); o.innerText = "Heigth: " + t.height; let l = document.createElement("p"); l.innerText = "Weight: " + t.weight; let r = document.createElement("img"); r.classList.add("modal-image"), r.src = t.imageUrl, n.append(i), e.append(r), e.append(o), e.append(l) }(t) }) } return { add: n, getAll: function () { return t }, addListItem: function (t) { let e = document.querySelector(".pokemon-list"); e.classList.add("list-group", "grid"); let n = document.createElement("li"); n.classList.add("list-group-item", "grid__item"); let o = document.createElement("button"); o.innerText = t.name, o.classList.add("btn", "btn-outline-primary", "btn-lg"), o.setAttribute("type", "button"), o.setAttribute("data-toggle", "modal"), o.setAttribute("data-target", "#modalContainer"), n.appendChild(o), e.appendChild(n), o.addEventListener("click", function () { i(t) }) }, showDetails: i, loadList: function () { return fetch(e).then(function (t) { return t.json() }).then(function (t) { t.results.forEach(function (t) { n({ name: t.name, detailsUrl: t.url }) }) }).catch(function (t) { console.error(t) }) } } }(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (t) { pokemonRepository.addListItem(t) }) });